# DIGITALVORTX WaterWall - HalfDuplex Tunnel Manager

ÛŒÚ© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù†ØµØ¨ Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WaterWall Ø¨Ø§ Ù¾Ø±ÙˆØªÚ©Ù„ HalfDuplex

## âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

- ğŸ” **ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ**: Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… (ARM64 ÛŒØ§ AMD64) Ø±Ø§ ØªØ´Ø®ÛŒØµ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- ğŸ“¥ **Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø±**: Ù†Ø³Ø®Ù‡ Ù…Ù†Ø§Ø³Ø¨ WaterWall v1.40 Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ù†ØµØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- ğŸ“ **Ù†ØµØ¨ Ø¯Ø± Ù…Ø³ÛŒØ± Ù…ØªÙ…Ø±Ú©Ø²**: Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¯Ø± `/waterwall` Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯
- ğŸ”§ **Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø³Ø§Ø¯Ù‡**: Ù…Ù†ÙˆÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø§ÛŒØ±Ø§Ù† ÛŒØ§ Ø®Ø§Ø±Ø¬
- ğŸ”Œ **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯**: ØªÚ© Ù¾ÙˆØ±ØªØŒ Ú†Ù†Ø¯ Ù¾ÙˆØ±Øª (comma-separated) Ùˆ Ø¨Ø§Ø²Ù‡ Ù¾ÙˆØ±Øª (range)
- ğŸ¨ **Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø²ÛŒØ¨Ø§**: Ù…Ù†ÙˆÛŒ Ø±Ù†Ú¯ÛŒ Ùˆ Ø¬Ø°Ø§Ø¨
- ğŸ“Š **Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª**: Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ù†ØµØ¨ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ Tunnel
- ğŸš€ **Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø§Ø¯Ù‡**: Ø´Ø±ÙˆØ¹ Ùˆ ØªÙˆÙ‚Ù Ø¢Ø³Ø§Ù† Tunnel

## ğŸ“‹ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

- Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Linux (Debian/Ubuntu/CentOS)
- Ø¯Ø³ØªØ±Ø³ÛŒ root ÛŒØ§ sudo
- Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯

## ğŸš€ Ù†ØµØ¨ Ùˆ Ø§Ø¬Ø±Ø§

```bash
# Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
wget https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/DIGITALVORTX-waterwall.sh

# ÛŒØ§ Ø¨Ø§ curl
curl -O https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/DIGITALVORTX-waterwall.sh

# Ø§Ø¹Ø·Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø¬Ø±Ø§
chmod +x DIGITALVORTX-waterwall.sh

# Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
sudo ./DIGITALVORTX-waterwall.sh
```

## ğŸ“– Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

### 1. Ù†ØµØ¨ Core

- Ø§Ø² Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ú¯Ø²ÛŒÙ†Ù‡ `1 - INSTALL CORE` Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… Ø±Ø§ ØªØ´Ø®ÛŒØµ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- Ù†Ø³Ø®Ù‡ Ù…Ù†Ø§Ø³Ø¨ WaterWall Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ù†ØµØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¯Ø± `/waterwall` Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯

### 2. Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Tunnel

- Ú¯Ø²ÛŒÙ†Ù‡ `2 - Config HalfDuplex Tunnel` Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
- Ù†ÙˆØ¹ Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:
  - **IRAN Server**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² HalfDuplexClient
  - **Kharej/Foreign Server**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² HalfDuplexServer

### 3. ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª

#### Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†:
- Ø¢Ø¯Ø±Ø³ Listener (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: 0.0.0.0)
- Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Listener (Ù…Ø«Ø§Ù„: `8447`, `8447,8448,8449` ÛŒØ§ `8447-8450`)
- IP Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬
- Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Connector Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬

#### Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬:
- Ø¢Ø¯Ø±Ø³ Listener (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: 0.0.0.0)
- Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Listener (Ù…Ø«Ø§Ù„: `8443`, `8443,8444,8445` ÛŒØ§ `8443-8446`)
- IP Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†
- Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Connector Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†

### 4. Ø´Ø±ÙˆØ¹ Tunnel

- Ú¯Ø²ÛŒÙ†Ù‡ `4 - Start Tunnel` Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
- Tunnel Ø¯Ø± ÛŒÚ© screen session Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§: `screen -r WaterWall`

## ğŸ“ Ù…Ø«Ø§Ù„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

### Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†:
```json
{
  "name": "iran_server_config",
  "nodes": [
    {
      "name": "iran_multi_port_listener",
      "type": "TcpListener",
      "settings": {
        "address": "0.0.0.0",
        "port": [8447, 8448, 8449, 8450],
        "nodelay": true,
        "multiport-backend": "iptables"
      },
      "next": "halfduplex_client"
    },
    {
      "name": "halfduplex_client",
      "type": "HalfDuplexClient",
      "settings": {},
      "next": "foreign_connector"
    },
    {
      "name": "foreign_connector",
      "type": "TcpConnector",
      "settings": {
        "address": "FOREIGN_SERVER_IP",
        "port": [8443, 8444, 8445, 8446],
        "nodelay": true,
        "fastopen": false,
        "domain-strategy": "ipv4"
      },
      "next": null
    }
  ]
}
```

### Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬:
```json
{
  "name": "foreign_server_config",
  "nodes": [
    {
      "name": "foreign_multi_port_listener",
      "type": "TcpListener",
      "settings": {
        "address": "0.0.0.0",
        "port": [8443, 8444, 8445, 8446],
        "nodelay": true,
        "multiport-backend": "iptables"
      },
      "next": "halfduplex_server"
    },
    {
      "name": "halfduplex_server",
      "type": "HalfDuplexServer",
      "settings": {},
      "next": "iran_connector"
    },
    {
      "name": "iran_connector",
      "type": "TcpConnector",
      "settings": {
        "address": "IRAN_SERVER_IP",
        "port": [8447, 8448, 8449, 8450],
        "nodelay": true,
        "fastopen": false,
        "domain-strategy": "ipv4"
      },
      "next": null
    }
  ]
}
```

## ğŸ“‚ Ø³Ø§Ø®ØªØ§Ø± Ù¾ÙˆØ´Ù‡

```
/waterwall/
â”œâ”€â”€ Waterwall          # ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø§ØµÙ„ÛŒ
â”œâ”€â”€ core.json          # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡Ø³ØªÙ‡
â”œâ”€â”€ dev-ir.json        # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Tunnel
â”œâ”€â”€ log/              # Ù¾ÙˆØ´Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§
â”‚   â”œâ”€â”€ core.log
â”‚   â”œâ”€â”€ network.log
â”‚   â””â”€â”€ dns.log
â””â”€â”€ libs/             # Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
```

## ğŸ› ï¸ Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙÛŒØ¯

```bash
# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Tunnel
screen -r WaterWall

# Ø®Ø±ÙˆØ¬ Ø§Ø² screen (Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚Ù Tunnel)
Ctrl+A Ø³Ù¾Ø³ D

# ØªÙˆÙ‚Ù Tunnel
screen -X -S WaterWall quit

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª
sudo ./DIGITALVORTX-waterwall.sh
# Ø³Ù¾Ø³ Ú¯Ø²ÛŒÙ†Ù‡ 3 - Status Tunnel

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ§ÛŒÙ„ Ú©Ø§Ù†ÙÛŒÚ¯
cat /waterwall/dev-ir.json | jq '.'

# ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÛŒ Ú©Ø§Ù†ÙÛŒÚ¯
sudo nano /waterwall/dev-ir.json
```

## ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯

- [Ù…Ø³ØªÙ†Ø¯Ø§Øª WaterWall](https://radkesvat.github.io/WaterWall-Docs/)
- [Installation Guide](https://radkesvat.github.io/WaterWall-Docs/docs/getting-started/installation)
- [HalfDuplex Client](https://radkesvat.github.io/WaterWall-Docs/docs/noderefs/halfduplex-client)
- [HalfDuplex Server](https://radkesvat.github.io/WaterWall-Docs/docs/noderefs/halfduplex-server)

## ğŸ“Œ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

- âš ï¸ Ø¨Ø±Ø§ÛŒ Ù†ØµØ¨ Ùˆ Ø§Ø¬Ø±Ø§ Ø¨Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ root Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯
- âš ï¸ Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ØŒ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø§Ø² Ù‡Ø³ØªÙ†Ø¯
- âš ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª iptables Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ú©Ø§Ù†ÙÛŒÚ¯ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (multiport-backend)
- âš ï¸ IP Ø³Ø±ÙˆØ± Ù…Ù‚Ø§Ø¨Ù„ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯

## ğŸ› Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„: ÙØ§ÛŒÙ„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª
ping github.com

# Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¯Ø³ØªÛŒ
wget https://github.com/radkesvat/WaterWall/releases/download/v1.40/Waterwall-linux-gcc-x64.zip
```

### Ù…Ø´Ú©Ù„: Tunnel Ø´Ø±ÙˆØ¹ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
```bash
# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§
ls -la /waterwall/

# Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§
tail -f /waterwall/log/core.log
tail -f /waterwall/log/network.log
```

### Ù…Ø´Ú©Ù„: Ù¾ÙˆØ±Øª Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡
netstat -tulpn | grep LISTEN
# ÛŒØ§
ss -tulpn | grep LISTEN
```

## ğŸ“„ Ù…Ø¬ÙˆØ²

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª Ù…Ø¬ÙˆØ² MIT Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª.

## ğŸ‘¨â€ğŸ’» ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡

**DIGITALVORTX**

## ğŸ™ ØªØ´Ú©Ø±

Ø§Ø² [radkesvat](https://github.com/radkesvat) Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ WaterWall ØªØ´Ú©Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….

---

â­ Ø§Ú¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø¢Ù† Ø±Ø§ Ø³ØªØ§Ø±Ù‡ Ø¯Ù‡ÛŒØ¯!

